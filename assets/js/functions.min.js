jQuery(document).ready(function(n){n(".devotion-section").tooltip(),n(".devotion-tooltip").tooltip(),n(".devotion-tabs > ul > li > a").click(function(){var e=n(this).closest(".devotion-tabs"),o=n(this).attr("href");return e.find(".dv-tablist").find("li").removeClass("active"),e.find(".devotion-tab").removeClass("tab-active"),e.find(o).addClass("tab-active"),n(this).parent().addClass("active"),!1}),n(".devotion-stripfield").keyup(function(){var e=n(this).val().toLowerCase();e=(e=e.replace(/[^A-Za-z0-9\s-]/g,"")).replace(/ /g,"-"),n(this).val(e)}),n(".devotion-ucfield").keyup(function(){var e=n(this).val().toUpperCase();n(this).val(e)}),n("#dv-preview-links a").hover(function(){var e=n(this).data("hover");e&&n(this).css("color",e)},function(){var e=n(this).data("std");e&&n(this).css("color",e)}),n(document).on("change",".dv-live select",function(){var e=n(this).data("live");n("#devotion-login-preview").css(e,n(this).val())}),n(document).on("change","#dv-toggle-background-size select",function(){"custom"==n(this).val()?n("#dv-toggle-background-manual-size").css("display","flex"):n("#dv-toggle-background-manual-size").hide()}),n("#logineditor-form").submit(function(){return n.ajax({type:"POST",url:ajaxurl,data:{action:"loginform_process",formdata:n(this).serialize()}}).done(function(e){Swal.fire({icon:"success",title:n("#devotion-swal-success").data("heading"),text:n("#devotion-swal-success").data("message")})}),!1}),n("#dv-clear-logineditor").click(function(){return n.ajax({type:"POST",url:ajaxurl,data:{action:"loginform_clear",formdata:n(this).serialize()}}).done(function(e){n("#devotion-login-preview").attr("style",""),n("#devotion-login-preview-overlay").attr("style",""),n("#dv-preview-logo-img").attr("style",""),n("#dv-preview-links a").attr("style",""),n(".devotion-clear-image").hide(),n("#logineditor-form")[0].reset();var o=n("#dv-preview-logo-img").data("default");n("#dv-preview-logo-img").attr("src",o),Swal.fire({icon:"success",title:n("#devotion-swal-clear").data("heading"),text:n("#devotion-swal-clear").data("message")}).then(function(){location.reload()})}),!1}),n(".req").focus(function(){n(this).removeClass("dv-field-error")}),n(".dv-slider").each(function(){var e=n(this).find(".devotion-range-slider"),t=n(this).find("input"),r=e.data("suffix"),l=e.data("target"),o=parseInt(e.data("min")),i=parseInt(e.data("max")),a=parseInt(e.data("default")),s=n(this).find(".devotion-slider-results");e.slider({range:"min",value:a,min:o,max:i,slide:function(e,o){var i;s.html(o.value+r),"logo"==l?(i=o.value/100*52,n("#dv-preview-logo").find("img").css("height",i+"px")):"logo-spacing"==l?(i=o.value/100*52,n("#dv-preview-logo").find("img").css("margin-bottom",i+"px")):"opacity"==l?(i=parseFloat(o.value)/100,n("#devotion-login-preview-overlay").css("opacity",i)):"formradius"==l?(i=o.value/100*45,n(".dv-preview-login-form-shell").css("border-radius",i+"px")):"fieldradius"==l?(i=o.value/100*45,n(".dv-preview-login-form-shell input[type=text]").css("border-radius",i+"px"),n(".dv-preview-login-form-shell input[type=password]").css("border-radius",i+"px")):"buttonradius"==l?(i=o.value/100*45,n(".dv-preview-login-form-shell button").css("border-radius",i+"px")):"bg"==l&&n("#devotion-login-preview").css("background-size",o.value+"% auto"),t.val(o.value)}}),s.html(n(this).find(".devotion-range-slider").slider("value")+r)}),n(".dv-color").each(function(){var i=n("#devotion-login-preview"),t=n(this).closest(".dv-option").find("input"),r=n(this).data("type"),e=n(this).find(".devotion-color-picker-field"),o={change:function(e,o){setTimeout(function(){var e=o.color.toString();i&&("col"==r?i.css("color",e):"color"==r?((i=n("#dv-preview-links a")).css("color",e),i.attr("data-std",e)):"hcolor"==r?(i=n("#dv-preview-links a")).attr("data-hover",e):"ol"==r?(i=n("#devotion-login-preview-overlay")).css("background-color",e):"formbg"==r?(i=n(".dv-preview-login-form-shell")).css("background-color",e):"formbordercolor"==r?(i=n(".dv-preview-login-form-shell")).css("border-color",e):"formlabel"==r?(i=n(".dv-preview-login-form-shell label")).css("color",e):"formfieldbg"==r?((i=n(".dv-preview-login-form-shell input[type=text]")).css("background-color",e),(i=n(".dv-preview-login-form-shell input[type=password]")).css("background-color",e)):"formfieldtext"==r?((i=n(".dv-preview-login-form-shell input[type=text]")).css("color",e),(i=n(".dv-preview-login-form-shell input[type=password]")).css("color",e)):"formfieldborder"==r?((i=n(".dv-preview-login-form-shell input[type=text]")).css("border-color",e),(i=n(".dv-preview-login-form-shell input[type=password]")).css("border-color",e)):"buttonbgcolor"==r?(i=n(".dv-preview-login-form-shell button")).css("background-color",e):"buttontextcolor"==r||"buttonbordercolor"==r?(i=n(".dv-preview-login-form-shell button")).css("color",e):i.css("background-color",e),t.val(e))},1)},clear:function(e,o){setTimeout(function(){var e="";i&&("col"==r?i.css("color",e):"mcol"==r?(i.css("color",e),i.attr("data-std",e)):"hov"==r?i.attr("data-hover",e):("ol"==r?i=n("#devotion-login-preview-overlay"):i).css("background-color",e),t.val(e))},1)}};n(e).wpColorPicker(o)}),n(document).on("click",".devotion-upload-image",function(e){e.preventDefault();var o=n(this).data("type"),i=n(this).closest(".dv-option").find("input"),t=n(this),r=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:"image"},button:{text:"Select"},multiple:!1});r.on("select",function(){var e=r.state().get("selection").first().toJSON();t.siblings("input").val(e.url).change(),t.siblings(".devotion-clear-image").show(),"logo"==o?n("#dv-preview-logo-img").attr("src",e.url):(n("#devotion-login-preview").css("background-image","url("+e.url+")"),n(".preview-icon").css("background-image","url("+e.url+")")),i.val(e.url)}),r.open()}),n(document).on("click",".devotion-clear-image",function(e){e.preventDefault();var o=n("#devotion-login-preview"),i=n(this).closest(".dv-option").find("input"),t=n(this).data("ttype"),e=n(this);e.siblings("input").val("").change(),e.hide(),"img"==t?n(o).hide():(o.css("background-image","none"),n(".preview-icon").css("background-image","none")),i.val("")})});